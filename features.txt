list (default) mode:
  mode changes.
  'd' go to draw mode (with no selection or image item selected).
  's' go to stencil mode (with image item selected).
  'o' enter text.
  'i' edit selected text with cursor beginning of the text.
  'e' edit selected text with cursor end of the text.

  sub-modes.
  'r' takes to the rotate item mode.
  't' takes to the scale item mode.

  item control.
  'c' copy item.
  shift + 'd' delete item.
  'x' toggle alpha lock.
  '<' and '>' to adjust alpha up and down.
  'm' merges items (need to have multiple items selected).
  ctrl + 'v' paste image element copied from another web page.
    pasted images are not edittable.

  viewport control.
  '-' zoom out.
  '=' zoom in.
  '0' default zoom.
  shift + '0' zoom to show all.
  arrow keys to move viewport.

  selection.
  'k' move selection to item above.
  'j' move selection to item below.
  shift + 'k' expand selection up.
  shift + 'j' expand selection down.
  esc clears selection.
  'h' toggles the hold of the item (no mouse actions).
  shift + 'h' unholds all items.

  z control.
  'v' sends item to farthest z.
  shift + 'v' bring item to nearest z.
  'n' sends item to farther than any overlapped items in z.
  shift + 'n' bring item to nearer than any overlapped items in z.

  space to toggle palette display (for the selected item).
    click on alpha to invoke hex adjust mode.
    (for image) click on alpha lock to toggle.

  shift+'u' go up to the list page.

draw mode:
  esc get out.
  's' go out of draw mode and straight to stencil mode.

  'b' to toggle tool palette display.
    shows brush sample.
    click on lerp, alpha, size to invoke hex adjust mode.
  'c' to toggle color palette display.
    shows primary and secondary color selections.
    shows primary color name when available.
    click on colors to select.
    click on mix, hue, sat (saturation), lgt (lightness) to invoke hex adjust mode.
  space to toggle previously opened palette display.

  stroke selection.
  'w' pen.
  'e' eraser.
  'r' brush.
  't' smudge.
  'y' rectangle.
  'u' average.
  'i' ink.
  'o' lasso.
  'd' toggle with the previous stroke.

  color adjust.
  'f' swaps primary and secondary colors.
  '[' and ']' for up / down params:
    lightness.
    saturation with shift.
    hue with ctrl.
    mix with shift + ctrl.
  activate color adjust hex control:
    'm' mix.
    'h' hue.
    'j' saturation.
    'l' lightness.

  ',' and '.' for up / down brush params:
    size.
    alpha with shift.
    lerp (edge sharpness) with ctrl.

  'v' to push current image down all the way in z.
  shift + 'v' to pull current image up all the way in z.
  'n' to push current image down by one in z
  shift + 'n' to pull current image up by one in z

  'x' toggles alpha lock.
  'z' undo stroke.

  color palette:
    click on color to select.

stencil mode:
  all the draw mode key except 's'.
  color and alpha selection doesn't matter.
  'x' to toggle alpha lock is hidden by 'x' for cut image.
  
  'c' to copy the selected region into another image item and exit stencil mode.
  'x' to cut the selected region out form the current image item into another
    image item and exit stencil mode.

text mode:
  esc get out.
  shift-enter terminates the current text item and immediately starts a new one.

rotate / scale mode:
  esc to get out.
  mouse move to rotate / scale the primary selected item.





[to be implemented]
controls:
  overlay controls.
    position fixed to document.
    style them differently so look ok overlapping with viewport which has
        controls too.
    - mode indicator: list, text, draw, and stencil.
    - go to file list page.
    - save and save state indicator.
      activated only when there's something to save.
      disabled during text, draw, or stencil mode.
    - viewport controls -- zoom in, out, default, show all, show all selected.
      disabled during text, draw, or stencil mode.
    - mouse control mode change (selection / viewport drag).
      selection mode allows box select.
      viewport drag move and rotate.
    - viewport flip horiz and vert.

  pop-up.
    click on non-item area to show.
    hide with any action.
      action from this control.
      item selected.
      viewport change.
    - new text.
    - new drawing.
    - paste image or text.

  selection control.
    stay in client area as long as part of the selection marker is in.
    - rotate / scale / move handles.
      go outside of the marker if the selection box is too small.
    - handle show / hide.
    - flip horiz / vert.
    - edit text.
    - edit drawing.
    - go to stencil mode.
    - clear selection.
    - copy.
    - delete.
    - alpha value control.
    - merge (only when multiple selection of same type).
    - z control -- move by one, move overlapped by one, to the end.
      need to work in text, draw, and stencil mode too...

  edit mode (text/draw/stencil) control.
    horizontal at the bottom of the screen.
    - esc.
    text mode:
      - split text item at the cursor.
        useful on touch device.
    draw/stencil mode:
      - stroke selection and incidator.
      - brush size control.
      - brush alpha control.
      - undo stroke.
    draw mode:
      - color selection and indicator.
        make it easy to select the previously selected color.
        keep colors from color pick.
      - alpha lock toggle / indicator.
      - go to stencil mode button.
    stencil mode:
      - cut button.
      - copy button.

mouse controls in list mode:
  global modes:
    - click to select.
      also box select.
      click on outside of item opens pop-up.
      ctrl-click or ctrl-box-draw for multi-select.
    - drag (anywhere including on items) to move viewport.
  - selection: drag handles for move, rotate, and scale.
